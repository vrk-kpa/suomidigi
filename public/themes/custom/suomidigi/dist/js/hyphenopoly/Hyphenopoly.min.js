/**
 * @license Hyphenopoly 4.0.0 - client side hyphenation for webbrowsers
 * ©2020  Mathias Nater, Güttingen (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
(e=>{"use strict";const n=String.fromCharCode(173);function t(){return Object.create(null)}function o(e,n){return{configurable:(4&n)>0,enumerable:(2&n)>0,writable:(1&n)>0,value:e}}function r(t){t.addEventListener("copy",(t=>{t.preventDefault();const o=e.getSelection(),r=o.getRangeAt(0).cloneContents(),a=document.createElement("div");a.appendChild(r);const l=a.innerHTML,s=o.toString();t.clipboardData.setData("text/plain",s.replace(new RegExp(n,"g"),"")),t.clipboardData.setData("text/html",l.replace(new RegExp(n,"g"),""))}),!0)}(e=>{const r=Object.create(null,{defaultLanguage:o("en-us",2),dontHyphenate:o((()=>{const e=t();return"abbr,acronym,audio,br,button,code,img,input,kbd,label,math,option,pre,samp,script,style,sub,sup,svg,textarea,var,video".split(",").forEach((n=>{e[n]=!0})),e})(),2),dontHyphenateClass:o("donthyphenate",2),exceptions:o(t(),2),keepAlive:o(!0,2),normalize:o(!1,2),safeCopy:o(!0,2),timeout:o(1e3,2)}),a=Object.create(r),l=Object.create(null,{compound:o("hyphen",2),hyphen:o(n,2),leftmin:o(0,2),leftminPerLang:o(0,2),minWordLength:o(6,2),mixedCase:o(!0,2),orphanControl:o(1,2),rightmin:o(0,2),rightminPerLang:o(0,2)});Object.keys(e.setup).forEach((n=>{if("selectors"===n){const n=Object.keys(e.setup.selectors);Object.defineProperty(a,"selectors",o(n,2)),n.forEach((n=>{const r=t();Object.keys(e.setup.selectors[n]).forEach((t=>{r[t]=o(e.setup.selectors[n][t],2)})),Object.defineProperty(a,n,o(Object.create(l,r),2))}))}else if("dontHyphenate"===n){const l=t();Object.keys(e.setup.dontHyphenate).forEach((n=>{l[n]=o(e.setup.dontHyphenate[n],2)})),Object.defineProperty(a,n,o(Object.create(r.dontHyphenate,l),3))}else Object.defineProperty(a,n,o(e.setup[n],3))})),e.c=a})(Hyphenopoly),(n=>{n.events=new Map,n.createEventPromise=(e,t)=>{const o=n.defProm();n.events.set(e,o),t&&o.resolve(e)};const t=new Set(["afterElementHyphenation","beforeElementHyphenation","engineReady","error","hyphenopolyEnd","hyphenopolyStart"]);var o,r;n.createEventPromise("error"),n.events.get("error").then((e=>{e.runDefault=!0,e.preventDefault=()=>{e.runDefault=!1}})),n.handleEvent&&(o=n.handleEvent,r=e=>{t.has(e)?(n.events.has(e)||n.createEventPromise(e),n.events.get(e).then((t=>{n.handleEvent[e](t)}))):"tearDown"!==e&&"polyfill"!==e&&n.events.get("error").resolve({lvl:"warn",msg:`unknown Event "${e}" discarded`})},Object.keys(o).forEach(r)),n.events.get("error").then((n=>{if(n.runDefault)switch(n.lvl){case"info":e.console.info(n.msg);break;case"warn":e.console.warn(n.msg);break;default:e.console.error(n.msg)}}))})(Hyphenopoly),(n=>{const a=n.c;let l=null;function s(e){n.events.delete(e),n.createEventPromise(e),n.events.get(e).then((t=>{n.handleEvent[e](t)}))}function c(e,n){try{return e.getAttribute("lang")?e.getAttribute("lang").toLowerCase():"html"===e.tagName.toLowerCase()?n?l:null:c(e.parentNode,n)}catch(e){return null}}function h(e,n){return e.matches||(e.matches=e.msMatchesSelector||e.webkitMatchesSelector),e.matches(n)}function i(){const t=function(){const e=new Map,t=[0];return{add:function(n,o,r){const a={element:n,selector:r};return e.has(o)||e.set(o,[]),e.get(o).push(a),t[0]+=1,a},counter:t,each:function(n){e.forEach(((e,t)=>{n(t,e)}))},list:e,rem:function(o){let r=0;e.has(o)&&(r=e.get(o).length,e.delete(o),t[0]-=r,0===t[0]&&(n.events.has("hyphenopolyEnd")&&n.events.get("hyphenopolyEnd").resolve("hyphenopolyEnd"),a.keepAlive||(window.Hyphenopoly=null)))}}}(),o=(()=>{let e="."+a.dontHyphenateClass,n=null;for(n in a.dontHyphenate)a.dontHyphenate[n]&&(e+=","+n);return e})(),l=a.selectors.join(",")+","+o;function s(e,n){return e.lang&&"string"==typeof e.lang?e.lang.toLowerCase():n&&""!==n?n.toLowerCase():c(e,!0)}function i(e,o,c){let p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const g=s(e,o);"H9Y"===n.cf.langs[g]?(t.add(e,g,c),!p&&a.safeCopy&&r(e)):n.cf.langs[g]||n.events.get("error").resolve({lvl:"warn",msg:`Element with '${g}' found, but '${g}.hpb' not loaded. Check language tags!`}),e.childNodes.forEach((e=>{1!==e.nodeType||h(e,l)||i(e,g,c,!0)}))}a.selectors.forEach((n=>{e.document.querySelectorAll(n).forEach((e=>{i(e,c(e,!0),n,!1)}))})),n.res.set("elements",Promise.resolve(t))}n.events.has("hyphenopolyStart")&&n.events.get("hyphenopolyStart").resolve("hyphenopolyStart");const p=new Map;function g(e,t,o){const r=a[o],l=r.hyphen;function s(a){let s=e.cache.get(o).get(a);var c;return!r.mixedCase&&(c=a,Array.prototype.map.call(c,(function(e){return e===e.toLowerCase()})).some((function(e,n,t){return e!==t[0]})))&&(s=a),s||(e.exceptions.has(a)?s=e.exceptions.get(a).replace(/-/g,r.hyphen):-1===a.indexOf("-")?a.length>61?(n.events.get("error").resolve({lvl:"warn",msg:"found word longer than 61 characters"}),s=a):s=e.hyphenateFunction(a,l.charCodeAt(0),r.leftminPerLang[t],r.rightminPerLang[t]):s=function(n){const a=String.fromCharCode(8203);let l=null,s=null;return"auto"===r.compound||"all"===r.compound?(s=g(e,t,o),l=n.split("-").map((e=>e.length>=r.minWordLength?s(e):e)),n="auto"===r.compound?l.join("-"):l.join("-"+a)):n=n.replace("-","-"+a),n}(a),e.cache.get(o).set(a,s)),s}return e.cache.set(o,new Map),p.set(t+"-"+o,s),s}const u=new Map;function m(e,t,o){const r=n.languages.get(e),l=a[t],c=l.minWordLength,h=a.normalize&&Boolean(String.prototype.normalize),i=e+"-"+t,m=p.has(i)?p.get(i):g(r,e,t),d=u.has(t)?u.get(t):function(e){function n(n,t,o,r){const l=a[e];let s=l.hyphen;return-1!==".\\+*?[^]$(){}=!<>|:-".indexOf(l.hyphen)&&(s="\\"+l.hyphen),3===l.orphanControl&&" "===t&&(t=String.fromCharCode(160)),t+o.replace(new RegExp(s,"g"),"")+r}return u.set(e,n),n}(t),f=r.genRegExps.get(t);function y(e){let n=null;return n=h?e.normalize("NFC").replace(f,m):e.replace(f,m),1!==l.orphanControl&&(n=n.replace(/(\u0020*)(\S+)(\s*)$/,d)),n}let v=null;var b;return"string"==typeof o?v=y(o):o instanceof HTMLElement&&(b=o,n.events.has("beforeElementHyphenation")&&(n.events.get("beforeElementHyphenation").resolve({el:b,lang:e}),s("beforeElementHyphenation")),b.childNodes.forEach((e=>{3===e.nodeType&&e.data.length>=c&&(e.data=y(e.data))})),n.res.get("elements").then((e=>{e.counter[0]-=1})),n.events.has("afterElementHyphenation")&&(n.events.get("afterElementHyphenation").resolve({el:b,lang:e}),s("afterElementHyphenation"))),v}function d(t,o){o?o.forEach((e=>{m(t,e.selector,e.element)})):n.events.get("error").resolve({lvl:"warn",msg:`engine for language '${t}' loaded, but no elements found.`}),n.res.get("elements").then((t=>{0===t.counter[0]&&(e.clearTimeout(a.timeOutHandler),0!==a.hide&&n.hiding(1,null),n.events.has("hyphenopolyEnd")&&n.events.get("hyphenopolyEnd").resolve("hyphenopolyEnd"),a.keepAlive||(window.Hyphenopoly=null))}))}function f(e,r,l,s,c){l=l.replace(/-/g,"");const h=function(e){return n.languages||(n.languages=new Map),n.languages.has(e)||n.languages.set(e,t()),n.languages.get(e)}(e);h.engineReady||(h.cache=new Map,a.exceptions.global&&(a.exceptions[e]?a.exceptions[e]+=", "+a.exceptions.global:a.exceptions[e]=a.exceptions.global),a.exceptions[e]?(h.exceptions=function(e){const n=new Map;return e.split(", ").forEach((e=>{const t=e.replace(/-/g,"");n.set(t,e)})),n}(a.exceptions[e]),delete a.exceptions[e]):h.exceptions=new Map,h.genRegExps=new Map,h.hyphenateFunction=r,a.selectors.forEach((n=>{const r=a[n];0===r.leftminPerLang&&Object.defineProperty(r,"leftminPerLang",o(t(),2)),0===r.rightminPerLang&&Object.defineProperty(r,"rightminPerLang",o(t(),2)),r.leftminPerLang[e]=Math.max(s,r.leftmin,Number(r.leftminPerLang[e])||0),r.rightminPerLang[e]=Math.max(c,r.rightmin,Number(r.rightminPerLang[e])||0),h.genRegExps.set(n,new RegExp(`[\\w${l}${String.fromCharCode(8204)}-]{${r.minWordLength},}`,"gi"))})),h.engineReady=!0,n.hyphenators[e].resolve(n.createHyphenator(e))),n.events.has("engineReady")&&n.events.get("engineReady").resolve(e),Promise.all([h,n.res.get("elements")]).then((n=>{d(e,n[1].list.get(e))}))}n.createHyphenator=e=>function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".hyphenate";return m(e,t,n)},n.unhyphenate=()=>{n.res.get("elements").then((e=>{e.each(((e,n)=>{n.forEach((e=>{const n=e.element.firstChild,t=a[e.selector].hyphen;n.data=n.data.replace(new RegExp(t,"g"),"")}))}))}))};const y=(()=>{const e=new TextDecoder("utf-16le");return n=>e.decode(n)})();function v(e,t){const o=window.WebAssembly;function r(e){const n=e.instance.exports,r=n.conv(),a={buf:n.mem.buffer,hw:o.Global?n.hwo.value:n.hwo,lm:o.Global?n.lmi.value:n.lmi,rm:o.Global?n.rmi.value:n.rmi,wo:o.Global?n.uwo.value:n.uwo};f(t,function(e,n){const t=new Uint16Array(e.buf,e.wo,64),o=new Uint16Array(e.buf,e.hw,128);return t[0]=95,(e,r,a,l)=>{let s=0,c=e.charCodeAt(s);for(;c;)s+=1,t[s]=c,c=e.charCodeAt(s);return t[s+1]=95,t[s+2]=0,1===n(a,l,r)&&(e=y(o.subarray(1,o[0]+1))),e}}(a,n.hyphenate),y(new Uint16Array(n.mem.buffer,770,r-1)),a.lm,a.rm)}e.then((e=>{e.ok?o.instantiateStreaming&&"application/wasm"===e.headers.get("Content-Type")?o.instantiateStreaming(e).then(r):e.arrayBuffer().then((e=>{window.WebAssembly.instantiate(e).then(r)})):(n.res.get("elements").then((e=>{e.rem(t)})),n.hyphenators[t].catch((e=>{n.events.get("error").resolve({lvl:"warn",msg:e.msg})})),n.hyphenators[t].reject({lvl:"warn",msg:`1 File ${t}.wasm can't be loaded from ${n.paths.patterndir}`}))}))}n.res.get("DOM").then((()=>{l=c(e.document.documentElement,!1),l||""===a.defaultLanguage||(l=a.defaultLanguage),i(),n.res.get("elements").then((e=>{e.each(((e,t)=>{n.languages&&n.languages.has(e)&&n.languages.get(e).engineReady&&d(e,t)}))}))})),n.res.get("he").forEach(((e,n)=>{v(e,n)}))})(Hyphenopoly)})(window);